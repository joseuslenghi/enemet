<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<style>
	.grupo
	{
	display: inline-block;
	width: 500px;
	margin: 20px;
	}
</style>

<head>
    <title>Websockets Using JavaScript MQTT Client</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
	<script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript" loading="lazy" src="https://www.gstatic.com/charts/loader.js"></script>
	<script src="websocket-3.2.js"></script>

</head>

<body>

	<h1>Websockets Using JavaScript MQTT Client</h1>

	<div class=row>
		<div class=col> 
			Messages:<p class="alert alert-warning" id="messages">No message</p>
		</div>
		<div class=col> 

			Estado:<p class="alert alert-danger" id="status">Not Connected</p>
		</div>
	</div>

	
	
	<div  class="grupo">
		<h3>Conexión</h3>
			<form name="connform" action="" onsubmit="return MQTTconnect()">
				Server:  <input class="form-control" type="text" name="server">
				Port:    <input class="form-control" type="text" name="port">
				User:  <input class="form-control" type="text" name="username">
				Password:    <input class="form-control" type="text" name="password"><br>
			<input class="btn btn-primary" type="submit" value="Connect" >
		</form>
	</div>

	<div class="grupo">
		<h3>Suscripción</h3>
		<form name="subs" action="" onsubmit="return sub_topics()">
			Subscribe Topic 1:   <input class="form-control" type="text" name="Stopic1">
			Subscribe Topic 2:   <input class="form-control" type="text" name="Stopic2"><br>
			<input class="btn btn-primary" type="submit" value="Subscribe">
		</form><br>
		<button class="btn btn-primary" onclick="borrar()">Borrar datos</button>
		

	</div>

	<div class="grupo">
		<h3>Publicación</h3>
		<form name="smessage" action="" onsubmit="return send_message()">
			Message: <input class="form-control" type="text" name="message">
			Publish Topic:<input class="form-control" type="text" name="Ptopic"><br>
			
			<input class="btn btn-primary" type="submit" value="Publish">
		</form>
	</div>
	<br>
	

	<div>
	
		<div class="row">
		
			<div class="col" id="myTable">
			</div>
			
			<div class="col" id="chart_div" style="width: 800px; height: 400px">
			</div>	
		</div>
	</div>
  </body>
</html>
