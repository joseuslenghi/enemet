<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<style>
	.grupo
	{
	display: inline-block;
	width: 500px;
	margin: 20px;
	}
</style>

<head>
    <title>Enemet - Websockets MQTT Client</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
	<script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript" loading="lazy" src="https://www.gstatic.com/charts/loader.js"></script>
	<script src="websocket-3.2.js"></script>

</head>

<body>
	<div class="container-fluid pb3 bg-dark text-white">

				<h1 class="display-4 pb-4 ">ENEMET - Websocket MQTT client</h1>
		
		<div class="row ">
			<div class="col-xl-8"> 
					Mensajes:<p class="alert alert-light" id="messages">Sin mensajes</p>
			</div>

			<div class="col-xl-4"> 
				Estado:<p class="alert alert-danger" id="status">No conectado</p>
			</div>
			
		</div>

	</div>


	<div class="row p-3 bg-secondary text-white border">

		
		<div  class="col">
			<h3>Conexi칩n</h3>
				<form  name="connform" action="" onsubmit="return MQTTconnect()">
					<div class="form-row">
						<div class="col">
							<input class="form-control" type="text" name="server" placeholder="Servidor:"></div>
						<div class="col">
							<input class="form-control" type="text" name="username" placeholder="Usuario:"></div>							
					</div>
					<div class="form-row">					
						<div class="col">
							<input class="form-control" type="text" name="port" placeholder="Puerto:"></div>

						<div class="col">
							<input class="form-control" type="text" name="password" placeholder="Contrase침a:"></div>
					</div>
					<br>
					<input class="btn btn-info float-right" type="submit" value="Conectar" >
					<button class="btn btn-info float-left" onclick="borrar()">Borrar datos</button>
					<button class="btn btn-info float-left" onclick="exportar()">Exportar datos</button>
				</form>
		</div>

		<div class="col">
			<h3>Suscripci칩n</h3>
			<form name="subs" action="" onsubmit="return sub_topics()">
				<input class="form-control" type="text" name="Stopic1" placeholder="Suscribir a Topic:">
				<input class="form-control" type="text" name="Stopic2" placeholder="Suscribir a Topic:"><br>
				<input class="btn btn-info float-right" type="submit" value="Suscribir">
				
			</form>

		</div>

		<div class="col">
			<h3>Publicaci칩n</h3>
			<form name="smessage" action="" onsubmit="return send_message()">
				<input class="form-control" type="text" name="message" placeholder="Mensaje:">
				<input class="form-control" type="text" name="Ptopic" placeholder="Publicar a topic:"><br>
				
				<input class="btn btn-info float-right" type="submit" value="Publicar">
			</form>
		</div>

	</div>


		<div>
			<div class="row">
				<div class="col" id="myTable">
				</div>
				<div class="col" id="chart_div" style="width: 800px; height: 400px">
				</div>	
			</div>
		</div>
  </body>
</html>
